@using System.Threading.Tasks
@using Microsoft.Extensions.Options
@using VitalChoice.Infrastructure.Domain.Options
@using VitalChoice.Infrastructure.Identity
@using VitalChoice.Interfaces.Services
@using VitalChoice.Infrastructure.Domain.Transfer
@inject IOptions<AppOptions> appOptions;
@inject ReferenceData appInfrastructureService;

<!DOCTYPE html>
<!--[if lt IE 9]>
    <html class="no-js lt-ie9" lang="en">
<![endif]-->
<!--[if gte IE 9]>
    <html class="no-js" lang="en">
<![endif]-->
<!--[if !IE]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    @if (IsSectionDefined("Meta"))
    {
        @RenderSection("Meta", false)
    }
    else
    {
        <title>Wild Seafood & Organics - Vital Choice</title>
    }
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--start optimizely -->
    <script src="//cdn.optimizely.com/js/1571690011.js"></script>
    <!--end optimizely -->
    <link rel="apple-touch-icon" href="/assets/miscellaneous/apple-touch-icon.png">
    <link rel="icon" type="img/ico" href="/assets/miscellaneous/favicon.ico">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Francois One">
    @await Component.InvokeAsync("Assets", new { assetType = "styles" })
    <style>
		@await Component.InvokeAsync("CustomStyles")
    </style>
    <script>
		@{
		    var appInfrastructure = appInfrastructureService;
		}

        var appSettings = { DefaultCountryId: @(appInfrastructure.DefaultCountry?.Id) }
    </script>
    @await Component.InvokeAsync("HeadTrackScripts")
</head>
<body class="view-cart-layout view-cart-background order-info-section-fonts">
    @await Component.InvokeAsync("BodyBeginTrackScripts")
    @RenderSection("ViewCartTopAlert", false)
    <div class="view-cart-main">
        <header>
            <div class="logo-holder">
                <a href="/">
                    <img alt="Vital Choice" src="/Assets/images/VCwso.png" />
                </a>
            </div>
            <div class="advert-top-holder">
                @if (!User.Identity.IsAuthenticated || User.IsInRole(IdentityConstants.RetailCustomer))
            {
                    <a href="/content/shipping-information">
                        <img src="/Assets/images/freeship-13-2.jpg">
                    </a>
                }
            </div>
        </header>
        <div class="view-cart-content">
            @RenderBody()
        </div>
        <footer>
            <div class="footer-cart-main">
                <div class="advert-bottom-holder">
                    @if (!User.Identity.IsAuthenticated || User.IsInRole(IdentityConstants.RetailCustomer))
                    {
                        <a href="/content/shipping-information">
                            <img src="/Assets/images/freeship-13-2.jpg">
                        </a>
                    }
                </div>
                <div class="footer-cart-middle">
                    <a href="/content/the-vital-choice-guarantee">
                        <img src="/Assets/images/guarantee-13.png">
                    </a>
                </div>
                <div class="footer-cart-right">
                    <a name="trustlink" href="http://secure.trust-guard.com/certificates/5867" target="_blank"
                       onclick="var nonwin = navigator.appName != 'Microsoft Internet Explorer' ? 'yes' : 'no'; window.open(this.href.replace('http', 'https'), 'welcome', 'location=' + nonwin + ',scrollbars=yes,width=517,height=' + screen.availHeight + ',menubar=no,toolbar=no'); return false;"
                       oncontextmenu="var d = new Date(); alert('Copying Prohibited by Law - This image and all included logos are copyrighted by trust-guard \251 '+d.getFullYear()+'.'); return false;">
                        <img name="trustseal" alt="Security Seal" style="border: 0;" src="https://secure.trust-guard.com/seals/5867/scanned/mini/gray" />
                    </a>
                </div>
            </div>
            <nav class="footer-cart-nav">
                <ul>
                    <li><a href="/">Home</a></li>
                    <li><a href="/content/shipping-information">Shipping</a></li>
                    <li><a href="/content/About-Vital-Choice">About Us</a></li>
                    <li><a href="/content/contact-customer-service">Contact Us</a></li>
                    <li><a href="/content/request-catalog">Request Catalog</a></li>
                    <li><a href="/content/Web-Affiliate-Program">Affiliate Program</a></li>
                    <li class="last-child"><a href="/content/privacy-policy">Privacy & Security</a></li>
                </ul>
            </nav>
        </footer>
</div>
@*<script src="https://www.google.com/jsapi" type="text/javascript"></script>*@
@await Component.InvokeAsync("Assets", new {assetType = "scripts"})
@RenderSection("PageScripts", false)
@await Component.InvokeAsync("BodyEndTrackScripts")
@if (!Context.Request.Path.HasValue || Context.Request.Path.Value != "/checkout/addupdatebillingaddress")
{
    <!-- begin olark code -->
    <script data-cfasync="true" type='text/javascript'>
            /*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
            f[z]=function(){
            (a.s=a.s||[]).push(arguments)};var a=f[z]._={
            },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
            f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
            0:+new Date};a.P=function(u){
            a.p[u]=new Date-a.p[0]};function s(){
            a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
            hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
            return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
            b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
            b.contentWindow[g].open()}catch(w){
            c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
            var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
            b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
            loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
            /* custom configuration goes here (www.olark.com/documentation) */
            olark.identify('4550-485-10-6061');/*]]>*/
    </script>
    <noscript>
        <a href="https://www.olark.com/site/4550-485-10-6061/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a>
    </noscript>
    <!-- end olark code -->
}
    <script src="https://use.typekit.net/bdl6fja.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
</body>
</html>