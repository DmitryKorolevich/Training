@using System.Threading.Tasks
@using Microsoft.Extensions.Options
@using VitalChoice.Infrastructure.Domain.Options
@using VitalChoice.Infrastructure.Identity
@using VitalChoice.Interfaces.Services
@using VitalChoice.Infrastructure.Domain.Transfer
@inject IOptions<AppOptions> appOptions;
@inject ReferenceData appInfrastructureService;

<!DOCTYPE html>
<!--[if lt IE 9]>
	<html class="no-js lt-ie9" lang="en">
<![endif]-->
<!--[if gte IE 9]>
	<html class="no-js" lang="en">
<![endif]-->
<!--[if !IE]><!-->
	<html class="no-js" lang="en">
<!--<![endif]-->
	@{
        var appInfrastructure = appInfrastructureService;
    }
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	@if (IsSectionDefined("Meta"))
	{
		@await RenderSectionAsync("Meta", false)
	}
	else
	{
		<title>Wild Salmon | Omega-3 | Wild Seafood | Organic Foods | Vital Choice</title>
	}
    @if (IsSectionDefined("SocialMeta"))
    {
        @await RenderSectionAsync("SocialMeta", false)
    }
    else
    {
        <meta property="og:image" content="https://@(appOptions.Value.PublicHost)/files/catalog/fbdefault2.jpg">
        <meta itemprop="image" content="https://@(appOptions.Value.PublicHost)/files/catalog/googleplus.jpg" />
        <link rel="image_src" href="https://@(appOptions.Value.PublicHost)/files/catalog/googleplus.jpg" />
    }
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="msvalidate.01" content="4A9D524947EE62F01A1A9607511248C4" />
    @if (!Context.Request.Path.HasValue || Context.Request.Path.Value != "/profile/changebillinginfo")
    {
        <!--start optimizely -->
        <script src="//cdn.optimizely.com/js/1571690011.js"></script>
        <!--end optimizely -->
    }
    <link href="//fonts.googleapis.com/css?family=Francois+One" rel="stylesheet" type="text/css">
	<link rel="apple-touch-icon" href="/assets/miscellaneous/apple-touch-icon.png">
	<link rel="icon" type="img/ico" href="/assets/miscellaneous/favicon.ico">
	@await Component.InvokeAsync("Assets", new { assetType = "styles" })
	<style>
		@await Component.InvokeAsync("CustomStyles")
	</style>
    <script>
        var appSettings = { DefaultCountryId: @(appInfrastructure.DefaultCountry?.Id) }
    </script>
    @await Component.InvokeAsync("HeadTrackScripts")
</head>
<body>
	<!--[if lt IE 8]>
		<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
	<![endif]-->
    @await Component.InvokeAsync("BodyBeginTrackScripts")
    <div>
        <div class="header-top main">
            <div class="header-top-left">
                @if (User.Identity.IsAuthenticated && User.IsInRole(IdentityConstants.WholesaleCustomer))
                {
                    <img alt="Call Anytime" src="/assets/images/callanytime13.png" />
                }
                else
                {
                    <a class="block-link" href="/content/shipping-information">
                        <h4>Free shipping on orders over $99</h4>
                    </a>
                }
            </div>
            <div class="header-top-middle">
                <div class="trustpilot-widget" data-locale="en-US" data-template-id="5418052cfbfb950d88702476" data-businessunit-id="51975a73000064000533c457" data-style-height="30px" data-style-width="100%" data-theme="light" data-stars="4,5,3"></div>
            </div>
            <div class="header-top-right">
                <div class="actions-top-nav">
                    <a href="@Url.Action("Index", "Profile")">Your Account</a>
                    @if (User.Identity.IsAuthenticated)
                    {
                        if (User.HasClaim(IdentityConstants.AffiliateRole, "true"))
                        {
                            <a href="@Url.Action("Logout", "AffiliateAccount")">Log Out</a>
                        }
                        else
                        {
                            <a href="@Url.Action("Logout", "Account")">Log Out</a>
                        }
                    }
                    else
                    {
                        <a href="@Url.Action("RegisterEmail", "Account")">Register</a>
                    }
                    <a class="last-child" href="/content/contact-customer-service">Contact Us</a>
                </div>
            </div>
        </div>
    </div>
	<div class="separator-top"></div>
    <div class="alert-banner">
        @await Component.InvokeAsync("Area", new { name = "Alert Top Section Above Nav" })
    </div>
	<div class="main">
		<header>
			<div class="header-main">
			    <div class="logo-holder">
			        <a href="/">
			            <img alt="Vital Choice" src="/Assets/images/VCwso.png" />
			        </a>
			    </div>
                <a class="block-link" href="javascript:function(){return false;}" data-video-class="youtube-dialog-size-home-popup" data-video-id="Zznd8BxKyx0" data-video-modal="true" data-video-autoplay="true" data-video-autoclose="true">
                    <div class="middle-area">
                        <p>"Few decisions have as great an impact on your life as the foods you choose to eat. Take a quick look at our new video to learn more."</p>
                        <b>Randy Hartnell</b> <i>Founder/President</i>
                    </div>
                </a>
			    <div class="header-right-sidebar">
			        <div class="search-area">
			            <form id="search-area-form" action="/help/search" method="get">
			                <input type="text" name="q" value="What can we help you find?" onclick="this.value = ( this.value == this.defaultValue ) ? '' : this.value;return true;" dir="ltr" autocomplete="off" spellcheck="false" style="outline: none;">
			                <input type="image" class="active" style="display: none;" src="/Assets/images/mag.jpg"/>
			                <input type="image" class="not-active" src="/Assets/images/mag-off.png"/>
			            </form>
			        </div>
			        <div class="header-actions-holder">
			            <div class="cart-work-area">
			                <a class="view-cart" href="@Url.Action("ViewCart", "Cart")">
			                    <div class="cart-icon"></div>
			                    <div class="item-total">
			                        <span id="cart-lite-component">@await Component.InvokeAsync("CartLite")</span>
			                        <span>Item(s)</span>
			                    </div>
			                </a>
			                <a class="checkout-button" href="@Url.Action("ViewCart", "Cart")">
			                    <button>CHECKOUT</button>
			                </a>
			            </div>
			        </div>
			        <div class="clear"></div>
                    <div class="header-top-right">
                        <div class="actions-top-nav">
                            @if (User.Identity.IsAuthenticated && User.IsInRole(IdentityConstants.WholesaleCustomer))
                            {
                                <a class="wholesale-home" href="/products/wholesale">Wholesale Home</a>
                            }
                        </div>
                    </div>
			    </div>
			</div>
			<nav class="hide top-nav secondary-nav">
				@if (User.Identity.IsAuthenticated && User.IsInRole(IdentityConstants.WholesaleCustomer))
				{
					<text>@await Component.InvokeAsync("Area", new { name = "Secondary Wholesale Menu" })</text>
				}
				else
				{
					<text>@await Component.InvokeAsync("Area", new { name = "Secondary Retail Menu" })</text>
				}
			</nav>
			@if (User.Identity.IsAuthenticated && User.IsInRole(IdentityConstants.WholesaleCustomer))
            {
                <text>@await Component.InvokeAsync("Area", new { name = "Wholesale Top Mega Menu" })</text>
            }
            else
            {
                <text>@await Component.InvokeAsync("Area", new { name = "Retail Top Mega Menu" })</text>
            }
            @if (ViewBag.HideMenuShadow != true)
            {
                <div class="nav-shadow"></div>
            }
		    <div class="@(ViewBag.HideMenuShadow != true ? "bronto-subscribe-top-wrapper" : "bronto-subscribe-top-wrapper no-shadow")">
                <form class="bronto-form" onsubmit="return false;">
                    <span>Get special offers, recipes, health news, PLUS our FREE seafood cooking guide!</span>
                    <div class="email-input-container">
                        <input placeholder="Email Address" class="txtEmail bronto-sub-email" type="text" />
                        <div class="bubble">
                            Please enter a valid email address
                        </div>
                    </div>
                    <a href="javascript:void(0);" class="btnPostEmail">I'm on Board</a>
                    <a class="close-form" href="javascript:void(0);">Hide&nbsp;<img src="/Assets/images/cart/Close-128.png" /></a>
                    <div class="bronto-form-shadow"></div>
                </form>
                <div class="bronto-form-success">
					<span>Got it, thanks! <a href="/Assets/miscellaneous/Vital-Choice-In-the-Kitchen-2016.pdf" target="_blank">Click here</a> for your FREE seafood cooking guide & recipes e-booklet.<a class="close-form pull-right margin-right-small" href="javascript:void(0);">Hide&nbsp;<img src="/Assets/images/cart/Close-128.png" /></a></span>
                    <div class="bronto-form-shadow"></div>
                </div>
		    </div>
		</header>
		<div class="content">
            <div class="alert-banner">
                @await Component.InvokeAsync("Area", new { name = "Alert Top Section Below Nav" })
            </div>
			<div class="content-dynamic">
				@RenderBody()
			</div>
			<div class="content-bottom">
				<div class="newsletter-container">
					<form id="cse-search-box" method="post" name="search" onsubmit="return brontoSignupValidateEmail(event)" action="https://app.bronto.com/public/webform/process/">
                        <input type="hidden" value="98fbmg41k7lrzlevfi29oph85r7l8" name="fid" />
                        <input type="hidden" value="09dcaffa5c9971f4be87813780496171" name="sid" />
                        <input type="hidden" value="" name="delid" />
                        <input type="hidden" value="" name="subid" />
                        <input type="hidden" name="td" value="">
                        <input type="hidden" name="formtype" value="addcontact">
                        <input type="hidden" value="true" name="74699[291714]" />
                        <input name="74686" type="text" id="email" value="Enter Email Here" class="newsletter-input bronto-email" onfocus="this.value = (this.value == this.defaultValue) ? '' : this.value;return true;" data-emailcapturepoint="Newsletter Sign Up Footer, Check Out Sign In, Guest Check Out" />
                        <input type="image" border="0" align="absmiddle" alt="Submit" src="/Assets/images/arrow-submit.jpg" />
                        <div class="sugnup-bubble">
                            Please enter a valid email address
                        </div>
					</form>
				</div>
				<div class="finding-fish-container">
					<a href="/content/what-are-people-saying-about-vital-choice">
						<img alt="Finding good fish" src="/Assets/images/findinggoodfish.jpg"/>
					</a>
				</div>
				<div class="fish-advertising-container">
					<img alt="Randy Hartnell" src="/Assets/images/randyfooter-102413.jpg"/>
				</div>
			</div>
		</div>
		<footer>
			<div class="footer-main">
				<nav class="footer-nav">
					@await Component.InvokeAsync("Area", new { name = "Footer Links" })
				</nav>
				<div class="footer-market">
					<div class="market-left">
						<a href="/content/request-catalog">
							<img alt="See Our Catalog" src="/Assets/images/seeourcatalog.jpg" />
						</a>
						<a target="_blank" href="https://www.bcorporation.net/community/vital-choice">
							<img alt="Certified Corporation" src="/Assets/images/BCorplogo.jpg" />
						</a>
						<a href="/content/Vital-Green-Environmental-Stewardship-Program">
							<img alt="Vital Green" src="/Assets/images/vitalgreen.jpg" />
						</a>
					</div>
					<div class="market-right">
						<a href="/content/what-are-people-saying-about-vital-choice">
							<img alt="Watch Vital Choice Videos" src="/Assets/images/morevideos.jpg" />
						</a>
						<div class="ssl-area">
							<a target="_blank" class="accredited-businesses" href="https://www.bbb.org/western-washington/business-reviews/fish-and-seafood-retail/vital-choice-seafood-in-bellingham-wa-22009778#bbbseal" title="Vital Choice Seafood, Fish &amp; Seafood  Retail, Bellingham, WA">
								<img src="//seal-alaskaoregonwesternwashington.bbb.org/logo/ruhzbus/vital-choice-seafood-22009778.png" alt="Vital Choice Seafood, Fish &amp; Seafood  Retail, Bellingham, WA">
							</a>
							<a name="trustlink" class="security-logo" href="https://secure.trust-guard.com/certificates/5867" target="_blank"
							   onclick="var nonwin=navigator.appName!='Microsoft Internet Explorer'?'yes':'no'; window.open(this.href.replace('http', 'https'),'welcome','location='+nonwin+',scrollbars=yes,width=517,height='+screen.availHeight+',menubar=no,toolbar=no'); return false;"
							   oncontextmenu="var d = new Date(); alert('Copying Prohibited by Law - This image and all included logos are copyrighted by trust-guard \251 '+d.getFullYear()+'.'); return false;">
								<img name="trustseal" alt="Security Seal" style="border: 0;" src="//secure.trust-guard.com/seals/5867/scanned/mini/gray" />
							</a>
						</div>
						<div id="socialiconshome-102413">
							<img src="/Assets/images/socialicons5-home.jpg" usemap="#Social">
						</div>
					    <map name="Social" id="Social">
					        <area shape="rect" coords="209,0,236,25" href="https://www.youtube.com/user/VitalChoiceSeafood" alt="Youtube" target="_blank">
					        <area shape="rect" coords="165,0,192,25" href="https://instagram.com/vitalchoice" alt="Instagram" target="_blank">
					        <area shape="rect" coords="126,0,153,25" href="https://pinterest.com/vitalchoice/" alt="Pintrest" target="_blank">
					        <area shape="rect" coords="83,0,109,25" href="https://plus.google.com/109701577970251794205/posts" alt="Google+" target="_blank">
					        <area shape="rect" coords="41,0,67,25" href="https://twitter.com/vitalchoice" alt="Twitter" target="_blank">
					        <area shape="rect" coords="0,0,26,25" href="https://www.facebook.com/vitalchoice" alt="Facebook" target="_blank">
					    </map>
                        <div class="clear"></div>
					    <div class="vc-www-award">
					        <a href="/content/vital-choice-recognized">
					            <img src="/assets/images/vc-www-award-2016.jpg">
					        </a>
					    </div>
					</div>
				</div>
			</div>
			<div class="footer-copyright">
				<span>For orders, questions, or assistance call 800-608-4825 any day or time. © @DateTime.Now.Year Vital Choice Wild Seafood & Organics, Inc. All Rights Reserved</span>
			</div>
		</footer>
	</div>
	@await Component.InvokeAsync("Assets", new { assetType = "scripts" })
    <script src="@Url.Content("/app/modules/profile/gccheckform.js")?v=@(appOptions.Value.Versioning.BuildNumber)"></script>
	@await RenderSectionAsync("PageScripts", false)
    @await RenderSectionAsync("EndPageStyles", false)
    @await Component.InvokeAsync("BodyEndTrackScripts")
    @if (!Context.Request.Path.HasValue || Context.Request.Path.Value != "/profile/changebillinginfo" && Context.Request.Path.Value != "/checkout/addupdatebillingaddress")
    {
        <script type="text/javascript" src="//widget.trustpilot.com/bootstrap/v5/tp.widget.sync.bootstrap.min.js" defer="defer" async="async"></script>
        <script src="//www.google.com/jsapi?callback=googleLoadCallback" type="text/javascript" defer="defer" async="async"></script>
        <!-- new live support code -->
        <!-- begin olark code -->
        <script data-cfasync="true" type='text/javascript'>
            /*<![CDATA[*/window.olark||(function(c){var f=window,d=document,l=f.location.protocol=="https:"?"https:":"http:",z=c.name,r="load";var nt=function(){
            f[z]=function(){
            (a.s=a.s||[]).push(arguments)};var a=f[z]._={
            },q=c.methods.length;while(q--){(function(n){f[z][n]=function(){
            f[z]("call",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={
            0:+new Date};a.P=function(u){
            a.p[u]=new Date-a.p[0]};function s(){
            a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent("on"+r,s);var ld=function(){function p(hd){
            hd="head";return["<",hd,"></",hd,"><",i,' onl' + 'oad="var d=',g,";d.getElementsByTagName('head')[0].",j,"(d.",h,"('script')).",k,"='",l,"//",a.l,"'",'"',"></",i,">"].join("")}var i="body",m=d[i];if(!m){
            return setTimeout(ld,100)}a.P(1);var j="appendChild",h="createElement",k="src",n=d[h]("div"),v=n[j](d[h](z)),b=d[h]("iframe"),g="document",e="domain",o;n.style.display="none";m.insertBefore(n,m.firstChild).id=z;b.frameBorder="0";b.id=z+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent)){
            b.src="javascript:false"}b.allowTransparency="true";v[j](b);try{
            b.contentWindow[g].open()}catch(w){
            c[e]=d[e];o="javascript:var d="+g+".open();d.domain='"+d.domain+"';";b[k]=o+"void(0);"}try{
            var t=b.contentWindow[g];t.write(p());t.close()}catch(x){
            b[k]=o+'d.write("'+p().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}a.P(2)};ld()};nt()})({
            loader: "static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});
            /* custom configuration goes here (www.olark.com/documentation) */
            olark.identify('4550-485-10-6061');/*]]>*/
        </script>
        <noscript>
            <a href="https://www.olark.com/site/4550-485-10-6061/contact" title="Contact us" target="_blank">Questions? Feedback?</a> powered by <a href="http://www.olark.com?welcome" title="Olark live chat software">Olark live chat software</a>
        </noscript>
        <!-- end olark code -->
    }
    <script src="https://use.typekit.net/bdl6fja.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>
</body>
</html>