@{
	Layout = "~/Views/Shared/_ViewCartLayout.cshtml";
}

@model VC.Public.Models.Cart.ViewCartModel

@section PageScripts {
	<script src="@Url.Content("/app/common/dataAccess.js")"></script>
	<script src="@Url.Content("/app/modules/cart/viewcart.js")"></script>
	<script src="@Url.Content("/app/modules/checkout/checkoutMain.js")"></script>
}

@section Meta {
	<title>Wild Seafood & Organics - Vital Choice</title>
}
<div class="cart-content-top" data-bind="visible: Model.FreeShipDifference()">
	<span class="cart-head-text">IMPORTANT NOTICE</span>
    <span class="cart-subhead-text">You are only <span data-bind="text: formatCurrency(Model.FreeShipDifference())">@((Model.FreeShipDifference ?? 0).ToString("C2"))</span> from Free Shipping.</span>
	<p class="cart-body-text">To enjoy Free Shipping simply add more items until the Cart total reaches $99.00 or more.<br/>
		(Gift Certificates are exempt from shipping charges). <a href="/">Continue Shopping</a></p>
</div>
<div class="cart-content-middle">
	<div class="cart-shopping-notice">
		<div class="shopping-notice-left">
			<h6 class="cart-head">Your Shopping Cart</h6>
		</div>
		<div class="shopping-notice-right">
			<span class="shopping-notice-note">NOTE:</span><span>We cannot ship frozen foods to Canada, due to cost and excessive delays.</span>
			<ul>
				<li>
					Free shipping on orders of $99 or more does not apply to Canada.<br/>
					Please call 800-608-4825 to place your order. <a href="#">Click here for details.</a>
				</li>
				<li>Frozen goods sent to Alaska or Hawaii* are subject to surcharges: <a href="#">Click here for details.</a></li>
			</ul>
		</div>
		<span>Please review your purchases and quantities, then click the Checkout button.</span>
	</div>
	@using (Html.BeginForm("ViewCart", "Cart", null, FormMethod.Post, null, new {@class = "form-cart", role = "form", @id = "viewCartForm", data_bind = "submit: submitCart" }))
	{
		<div class="cart-certificates-container">
			<a name="trustlink" href="http://secure.trust-guard.com/certificates/5867" target="_blank"
			   onclick="var nonwin = navigator.appName != 'Microsoft Internet Explorer' ? 'yes' : 'no'; window.open(this.href.replace('http', 'https'), 'welcome', 'location=' + nonwin + ',scrollbars=yes,width=517,height=' + screen.availHeight + ',menubar=no,toolbar=no'); return false;"
			   oncontextmenu="var d = new Date(); alert('Copying Prohibited by Law - This image and all included logos are copyrighted by trust-guard \251 '+d.getFullYear()+'.'); return false;">
				<img name="trustseal" alt="Security Seal" style="border: 0;" src="https://secure.trust-guard.com/seals/5867/scanned/mini/gray"/>
			</a>
			<a class="cart-guarantee-link" href="#">
				<img src="/assets/images/guarantee2-cart.jpg"/>
			</a>
		</div>
		<div class="cart-overlay-container">
		    <div class="overlay" data-bind="visible:refreshing">
		        <div class="loading">Loading…</div>
		    </div>
			<div class="cart-control-container">
				<a href="/" class="button arrow-left-red">Continue Shopping</a>
				<input type="submit" class="checkout-blue" value="Checkout"/>
			</div>

			@(await Html.PartialAsync("_ViewCart", Model, ViewData))

			<div class="cart-control-container">
				<a href="/" class="button arrow-left-red">Continue Shopping</a>
				<input type="submit" class="checkout-blue" value="Checkout"/>
			</div>
		</div>
	}
</div>
<div class="cart-content-bottom">
	@if (Model.CrossSells.Any())
	{
		<div class="best-proposals-container">
			<span class="best-proposals-title">
				Great products. Great value. Add these to your cart.
			</span>
			@foreach (var item in Model.CrossSells)
			{
				<div class="best-proposals-item">
					<span class="proposals-item-title">@item.Price.ToString("C2")</span>
					<a class="proposals-item-link" href="#" data-sku-code = '@item.SkuCode'>
						<img src="@item.ImageUrl" />
						@item.Title
					</a>
				</div>
			}
		</div>
	}
</div>