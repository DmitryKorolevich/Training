@{
	Layout = "~/Views/Shared/_ViewCartLayout.cshtml";
}

@using System.Threading.Tasks
@using VC.Public.Models.Auth
@model LoginModel
@using Microsoft.Extensions.Options
@using VitalChoice.Infrastructure.Domain.Options
@inject IOptions<AppOptions> appOptions

@section PageScripts {
	<script src="@Url.Content("/app/modules/auth/login.js")?v=@(appOptions.Value.Versioning.BuildNumber)"></script>
	<script src="@Url.Content("/app/modules/checkout/checkoutMain.js")?v=@(appOptions.Value.Versioning.BuildNumber)"></script>
}

@section Meta {
	<title>Wild Seafood & Organics - Vital Choice</title>
}

<div class="checkout-step-container working-area-holder">
	<img class="checkout-step-banner" src="/assets/images/checkout/step1.jpg"/>
	<h4 class="checkout-step-heading">1. Welcome</h4>
	<span class="checkout-notification-important">Ordering from Vital Choice has never been faster or easier.</span>
	<span class="checkout-notification-simple">Just fill out the information below to get started.</span>
	<div class="columns-container welcome-columns-container">
		<div class="form-two-column login" data-forgot-pass-success="@(ViewBag.ForgotPassSuccess != null && ViewBag.ForgotPassSuccess ? "Instructions on resetting your password have been emailed to your email address" : "")">
			@using (Html.BeginForm("Welcome", "Checkout", null, FormMethod.Post, null, new { @class = "form-regular small checkout-login-form", role = "form" }))
			{
				@Html.AntiForgeryToken()
				<h4>Account Login</h4>
				@Html.ValidationSummary(true, "")
                if (ViewBag.ForgotPassSuccess != null && ViewBag.ForgotPassSuccess)
                {
                    <span class="form-control-important-info">
                        Instructions on resetting your password have been emailed to your email address.
                    </span>
                }
				<div class="form-group">
					@Html.LabelFor(m => m.Email, new {@class = "control-label"})
					<div class="input-group">
						@Html.TextBoxFor(m => m.Email, new {@class = "form-control"})
						@Html.ValidationMessageFor(m => m.Email, "")
					</div>
				</div>
				<div class="form-group">
					@Html.LabelFor(m => m.Password, new {@class = "control-label"})
					<div class="input-group">
						@Html.PasswordFor(m => m.Password, new {@class = "form-control"})
						@Html.ValidationMessageFor(m => m.Password, "")
					</div>
				</div>
				<div class="form-buttons-group">
					<input type="submit" value="Login"/>
				</div>
				<div class="form-group">
					Forgot your password? @Html.ActionLink("Click here to reset it.", "ForgotPassword", "Account", new { ReturnUrl = Url.Action("Welcome", new { forgot = true})})
				</div>
			}
		</div>
		<div class="checkout-columns-divider"></div>
		<div class="form-two-column welcome-centered-button">
			@Html.ActionLink("Proceed as New Customer / Guest", "AddUpdateBillingAddress", null, htmlAttributes: new { @class = "button blue" })
		</div>
	</div>
</div>
