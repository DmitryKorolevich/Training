<div class="container-fluid affiliate-edit">
    <div class="left-pane-controls">
        <div class="well container-fluid">
            <div>
                <button data-ng-click="save()" class="btn btn-success width-160px" unsaved-warning-clear>Save</button>
            </div>
            <div data-ng-if="affiliate.Id" class="btn-group margin-top-10px">
                <button class="btn btn-info width-160px" data-ng-click="email()">Email</button>
            </div>
            <div data-ng-if="affiliate.Id && affiliate.PromoteByDrSearsLEANCoachAmbassador" class="btn-group margin-top-10px">
                <button class="btn btn-info width-160px" data-ng-click="emailDrSears()">Dr Sears Email</button>
            </div>
            <div class="btn-group margin-top-10px">
                <button cancel-button-default-state="index.oneCol.manageAffiliates" cancel-button class="btn btn-default width-160px" unsaved-warning-clear>Cancel</button>
            </div>
            <div class="margin-top-10px">
                <button class="btn btn-primary width-160px" ui-sref="index.oneCol.manageAffiliates">Manage All</button>
            </div>
        </div>
        <div ng-controller="objectHistorySectionController" onload="name = 'History'" data-ng-include="'app/modules/affiliate/partials/affiliateObjectHistorySection.html'"></div>
    </div>
    <div class="right-pane-main">
    <div class="container-fluid">
        <div data-ng-if="affiliate.Id" class="row">
            <span class="legend top">
                <span class="item">Name: <strong>{{affiliate.Name}}</strong></span>
                <span class="item">Company: <strong>{{affiliate.Company}}</strong></span>
                <span class="item">Affiliate ID: <strong>{{affiliate.Id}}</strong></span>
                <span class="item">Status: <strong>{{getReferenceItem(ReferenceData.AffiliateStatuses, affiliate.StatusCode ).Text}}</strong></span>
            </span>
        </div>
        <div class="row">
                <uib-tabset>
                    <uib-tab heading="Affiliate Details" active="detailsTab.active">
                        <div class="container container-left">
                            <div class="well row">
                                <spinner-overlay data-loading="refreshTracker.active()">
                                    <form class="form-horizontal" name="forms.mainForm" data-ng-submit="save()" data-ng-class="{submitted: forms.submitted}" novalidate unsaved-warning-form>
                                        <fieldset>
                                            <div data-ng-if="affiliate.StatusCode == 2 && affiliate.Id" class="form-group">
                                                <label for="" class="col-md-3 control-label"></label>
                                                <div class="col-md-9">
                                                    <a target="_blank" data-ng-href="{{options.LoginAsAffiliateUrl}}" class="btn btn-primary-orange width-160px">Log In As Affiliate</a>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="" class="col-md-3 control-label">Affiliate ID</label>
                                                <div class="col-md-9 form-control-static" data-ng-if="affiliate.Id">
                                                    <span>{{affiliate.Id}}</span>
                                                </div>
                                            </div>
                                            <div data-ng-if="affiliate.StatusCode == 5 && affiliate.Id" class="form-group">
                                                <label for="active" class="col-md-3 control-label">Active</label>
                                                <div class="col-md-9">
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" id="active" name="ActivatePending" data-ng-model="affiliate.ActivatePending" /></label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div data-ng-if="affiliate.StatusCode != 5 && affiliate.Id" class="form-group">
                                                <label for="suspend" class="col-md-3 control-label">Suspend</label>
                                                <div class="col-md-9">
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" id="suspend" name="StatusCode" data-ng-click="toggleSuspended();" data-ng-checked="affiliate.StatusCode == 4" /></label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group" data-ng-if="affiliate.StatusCode != 5 && affiliate.Id && affiliate.StatusCode == 4">
                                                <label for="reason" class="col-md-3 control-label">Reason</label>
                                                <div class="col-md-9">
                                                    <textarea type="text" name="SuspendMessage" class="form-control" placeholder="Reason" rows="10" data-ng-model="affiliate.SuspendMessage" required data-ng-maxlength="250"></textarea>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.SuspendMessage.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.SuspendMessage.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Reason")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.SuspendMessage.$error.maxlength">{{getValidationMessage("ValidationMessages.FieldLength", ["Reason", "1000"])}}</small>
                                                        <small class="error" ng-show="forms.mainForm.SuspendMessage.$error.server">{{serverMessages.GetMessage('SuspendMessage')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="type" class="col-md-3 control-label">MyApp Balance</label>
                                                <div class="col-md-3">
                                                    <div class="input-group">
                                                        <span class="input-group-addon">$</span>
                                                        <input type="text" name="MyAppBalance" class="form-control" placeholder="MyApp Balance" money min="0" max="100000" data-ng-model="affiliate.MyAppBalance" required>
                                                    </div>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.MyAppBalance.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.MyAppBalance.$error.parse">{{getValidationMessage("ValidationMessages.FieldRequired","GeneralFieldNames.Balance")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.MyAppBalance.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","GeneralFieldNames.Balance")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.MyAppBalance.$error.max">{{getValidationMessage("ValidationMessages.FieldMax","GeneralFieldNames.Balance",1000000)}}</small>
                                                        <small class="error" ng-show="forms.mainForm.MyAppBalance.$error.min">{{getValidationMessage("{0} must be over $0.00","GeneralFieldNames.Balance")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.MyAppBalance.$error.server">{{serverMessages.GetMessage('MyAppBalance')}}</small>
                                                    </div>
                                                </div>
                                            </div>

                                            <span class="legend">Promoting Vital Choice</span>
                                            <div class="form-group">
                                                <label for="brickandmortar" class="col-md-3 control-label">Brick and Mortar</label>
                                                <div class="col-md-9">
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" id="brickandmortar" name="BrickAndMortar" data-ng-model="affiliate.BrickAndMortar" /></label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="promotebywebsite" class="col-md-3 control-label">Website</label>
                                                <div class="col-md-1">
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" id="promotebywebsite" name="PromoteByWebsite" data-ng-model="affiliate.PromoteByWebsite" /></label>
                                                    </div>
                                                </div>
                                                <label data-ng-if="affiliate.PromoteByWebsite" class="col-md-3 control-label">Website URL</label>
                                                <div data-ng-if="affiliate.PromoteByWebsite" class="col-md-5">
                                                    <input type="text" name="WebSite" class="form-control" placeholder="Website URL" data-ng-model="affiliate.WebSite" required>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.WebSite.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.WebSite.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","WebSite URL")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.WebSite.$error.server">{{serverMessages.GetMessage('WebSite')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="promotebyemails" class="col-md-3 control-label">Links on your emails</label>
                                                <div class="col-md-1">
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" id="promotebyemails" name="PromoteByEmails" data-ng-model="affiliate.PromoteByEmails" /></label>
                                                    </div>
                                                </div>
                                                <label data-ng-if="affiliate.PromoteByEmails" class="col-md-3 control-label">Monthly emails sent</label>
                                                <div data-ng-if="affiliate.PromoteByEmails" class="col-md-5">
                                                    <select class="form-control" name="MonthlyEmailsSent" data-ng-model="affiliate.MonthlyEmailsSent" ng-options="item.Key as item.Text for item in ReferenceData.AffiliateMonthlyEmailsSentOptions" required></select>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.MonthlyEmailsSent.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.MonthlyEmailsSent.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Monthly emails sent")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.MonthlyEmailsSent.$error.server">{{serverMessages.GetMessage('MonthlyEmailsSent')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="promotebyfacebook" class="col-md-3 control-label">Facebook</label>
                                                <div class="col-md-1">
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" id="promotebyfacebook" name="PromoteByFacebook" data-ng-model="affiliate.PromoteByFacebook" /></label>
                                                    </div>
                                                </div>
                                                <label data-ng-if="affiliate.PromoteByFacebook" class="col-md-3 control-label">Facebook page URL</label>
                                                <div data-ng-if="affiliate.PromoteByFacebook" class="col-md-5">
                                                    <input type="text" name="Facebook" class="form-control" placeholder="Facebook page URL" data-ng-model="affiliate.Facebook" required>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Facebook.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Facebook.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Facebook page URL")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.Facebook.$error.server">{{serverMessages.GetMessage('Facebook')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="promotebytwitter" class="col-md-3 control-label">Twitter</label>
                                                <div class="col-md-1">
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" id="promotebytwitter" name="PromoteByTwitter" data-ng-model="affiliate.PromoteByTwitter" /></label>
                                                    </div>
                                                </div>
                                                <label data-ng-if="affiliate.PromoteByTwitter" class="col-md-3 control-label">Twitter page URL</label>
                                                <div data-ng-if="affiliate.PromoteByTwitter" class="col-md-5">
                                                    <input type="text" name="Twitter" class="form-control" placeholder="Twitter page URL" data-ng-model="affiliate.Twitter" required>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Twitter.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Twitter.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Twitter page URL")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.Twitter.$error.server">{{serverMessages.GetMessage('Twitter')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="promotebyblog" class="col-md-3 control-label">Blog</label>
                                                <div class="col-md-1">
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" id="promotebyblog" name="PromoteByBlog" data-ng-model="affiliate.PromoteByBlog" /></label>
                                                    </div>
                                                </div>
                                                <label data-ng-if="affiliate.PromoteByBlog" class="col-md-3 control-label">Blog site URL</label>
                                                <div data-ng-if="affiliate.PromoteByBlog" class="col-md-5">
                                                    <input type="text" name="Blog" class="form-control" placeholder="Blog site URL" data-ng-model="affiliate.Blog" required>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Blog.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Blog.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Blog site URL")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.Blog.$error.server">{{serverMessages.GetMessage('Blog')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="promotebyprofessionalpractice" class="col-md-3 control-label">Professional practice</label>
                                                <div class="col-md-1">
                                                    <div class="checkbox">
                                                        <label><input type="checkbox" id="promotebyprofessionalpractice" name="PromoteByProfessionalPractice" data-ng-model="affiliate.PromoteByProfessionalPractice" /></label>
                                                    </div>
                                                </div>
                                                <label data-ng-if="affiliate.PromoteByProfessionalPractice" class="col-md-3 control-label">Practice</label>
                                                <div data-ng-if="affiliate.PromoteByProfessionalPractice" class="col-md-5">
                                                    <select class="form-control" name="ProfessionalPractice" data-ng-model="affiliate.ProfessionalPractice" ng-options="item.Key as item.Text for item in ReferenceData.AffiliateProfessionalPractices" required></select>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.ProfessionalPractice.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.ProfessionalPractice.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Professional practice")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.ProfessionalPractice.$error.server">{{serverMessages.GetMessage('ProfessionalPractice')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="pbdLEAN" class="col-md-3 control-label"></label>
                                                <div class="col-md-9">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" id="pbLEAN" name="PromoteByDrSearsLEANCoachAmbassador" data-ng-model="affiliate.PromoteByDrSearsLEANCoachAmbassador" />
                                                            <strong>Dr. Sears LEAN Coach Ambassador* (*Must already be in the LEAN Program)</strong>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="pbLE" class="col-md-3 control-label"></label>
                                                <div class="col-md-9">
                                                    <div class="checkbox">
                                                        <label>
                                                            <input type="checkbox" id="pbLE" name="PromoteByLeanEmail" data-ng-model="affiliate.PromoteByLeanEmail" />
                                                            <strong>Lean Email</strong>
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>

                                            <span class="legend">Type Details</span>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">How did you hear about Vital Choice?</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="HearAbout" class="form-control" placeholder="How did you hear about Vital Choice?" data-ng-model="affiliate.HearAbout">
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.HearAbout.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.HearAbout.$error.server">{{serverMessages.GetMessage('HearAbout')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Reach</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="Reach" class="form-control" placeholder="Reach" data-ng-model="affiliate.Reach">
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Reach.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Reach.$error.server">{{serverMessages.GetMessage('Reach')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Profession</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="Profession" class="form-control" placeholder="Profession" data-ng-model="affiliate.Profession">
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Profession.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Profession.$error.server">{{serverMessages.GetMessage('Profession')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Tier</label>
                                                <div class="col-md-9">
                                                    <select name="Tier" class="form-control" data-ng-model="affiliate.Tier" data-ng-options="tier.Key as tier.Text for tier in affiliateTiers" required>
                                                        <option value="" selected hidden />
                                                    </select>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Tier.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Tier.$error.server">{{serverMessages.GetMessage('Tier')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Notes</label>
                                                <div class="col-md-9">
                                                    <textarea type="text" name="Notes" class="form-control" placeholder="Notes" rows="5" data-ng-model="affiliate.Notes"></textarea>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Notes.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Notes.$error.server">{{serverMessages.GetMessage('Notes')}}</small>
                                                    </div>
                                                </div>
                                            </div>

                                            <span class="legend">Details</span>

                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Name</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="Name" class="form-control" placeholder="Name" data-ng-model="affiliate.Name" required>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Name.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Name.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","GeneralFieldNames.Name")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.Name.$error.server">{{serverMessages.GetMessage('Name')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Checks payable to</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="ChecksPayableTo" class="form-control" placeholder="Checks payable to" data-ng-model="affiliate.ChecksPayableTo">
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.ChecksPayableTo.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.ChecksPayableTo.$error.server">{{serverMessages.GetMessage('ChecksPayableTo')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Tax ID / SSN</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="TaxID" class="form-control" placeholder="Tax ID / SSN" data-ng-model="affiliate.TaxID" required>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.TaxID.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.TaxID.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Tax ID / SSN")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.TaxID.$error.server">{{serverMessages.GetMessage('TaxID')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Company</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="Company" class="form-control" placeholder="Company" data-ng-model="affiliate.Company">
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Company.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Company.$error.server">{{serverMessages.GetMessage('Company')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Address 1</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="Address1" class="form-control" placeholder="Address 1" data-ng-model="affiliate.Address1" required>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Address1.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Address1.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Address 1")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.Address1.$error.server">{{serverMessages.GetMessage('Address1')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Address 2</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="Address2" class="form-control" placeholder="Address 2" data-ng-model="affiliate.Address2">
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Address2.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Address2.$error.server">{{serverMessages.GetMessage('Address2')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Country</label>
                                                <div class="col-md-9">
                                                    <select name="IdCountry" class="form-control" data-ng-model="affiliate.IdCountry" data-ng-options="country.Id as country.CountryName for country in countries" required>
                                                        <option value="">Select Country</option>
                                                    </select>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.IdCountry.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.IdCountry.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Country")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.IdCountry.$error.server">{{serverMessages.GetMessage('IdCountry')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group" data-ng-if="affiliate.IdCountry">
                                                <label class="col-md-3 control-label">State/Province</label>
                                                <div class="col-md-9" data-ng-if="statesByCountryId(affiliate.IdCountry) && statesByCountryId(affiliate.IdCountry).length > 0">
                                                    <select name="IdState" class="form-control" data-ng-model="affiliate.IdState" data-ng-options="item.Id as item.StateName for item in statesByCountryId(affiliate.IdCountry)" required>
                                                        <option value="">Select State</option>
                                                    </select>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.IdState.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.IdState.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","State")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.IdState.$error.server">{{serverMessages.GetMessage('IdState')}}</small>
                                                    </div>
                                                </div>
                                                <div class="col-md-9" data-ng-if="!(statesByCountryId(affiliate.IdCountry) && statesByCountryId(affiliate.IdCountry).length > 0)">
                                                    <input type="text" name="County" class="form-control" data-ng-model="affiliate.County" placeholder="State" />
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.County.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.County.$error.server">{{serverMessages.GetMessage('County')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">City</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="City" class="form-control" placeholder="City" data-ng-model="affiliate.City" required>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.City.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.City.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","City")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.City.$error.server">{{serverMessages.GetMessage('City')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Zip</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="Zip" class="form-control" placeholder="Zip" data-ng-model="affiliate.Zip" required>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Zip.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Zip.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Zip")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.Zip.$error.server">{{serverMessages.GetMessage('Zip')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Phone</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="Phone" class="form-control" placeholder="Phone" data-ng-model="affiliate.Phone" data-mask="(999) 999-9999? x99999" data-clean="true" autocomplete="off">
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Phone.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Phone.$error.server">{{serverMessages.GetMessage('Phone')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">Fax</label>
                                                <div class="col-md-9">
                                                    <input type="text" name="Fax" class="form-control" placeholder="Fax" data-ng-model="affiliate.Fax" data-mask="(999) 999-9999? x99999" data-clean="true" autocomplete="off">
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Fax.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Fax.$error.server">{{serverMessages.GetMessage('Fax')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group" data-ng-if="affiliate.Id">
                                                <label for="currentEmail" class="col-md-3 control-label">Current Email</label>
                                                <div class="col-md-9 form-control-static">
                                                    <span data-ng-bind="affiliate.Email"></span>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="enterEmail" class="col-md-3 control-label">Enter Email</label>
                                                <div class="col-md-9">
                                                    <input type="email" name="Email" class="form-control" id="enterEmail" data-ng-model="affiliate.newEmail" placeholder="Enter Email" data-ng-required="!affiliate.Id" data-ng-maxlength="100" autocomplete="off">
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.Email.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.Email.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","GeneralFieldNames.Email")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.Email.$error.email">{{getValidationMessage("ValidationMessages.EmailFormat","GeneralFieldNames.Email")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.Email.$error.maxlength">{{getValidationMessage("ValidationMessages.FieldLength", ["GeneralFieldNames.Email", "100"])}}</small>
                                                        <small class="error" ng-show="forms.mainForm.Email.$error.server">{{serverMessages.GetMessage('Email')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label for="reEnterEmail" class="col-md-3 control-label">Re-enter Email</label>
                                                <div class="col-md-9">
                                                    <input type="email" name="EmailConfirm" class="form-control" id="reEnterEmail" data-ng-model="affiliate.emailConfirm" placeholder="Re-enter Email" data-ng-required="!affiliate.Id" data-ng-maxlength="100" autocomplete="off">
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.EmailConfirm.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.EmailConfirm.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Email Confirmation")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.EmailConfirm.$error.email">{{getValidationMessage("ValidationMessages.EmailFormat","Email Confirmation")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.EmailConfirm.$error.maxlength">{{getValidationMessage("ValidationMessages.FieldLength", ["Email Confirmation", "100"])}}</small>
                                                        <small class="error" ng-show="forms.mainForm.EmailConfirm.$error.server">{{serverMessages.GetMessage('EmailConfirm')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group" data-ng-if="affiliate.Id">
                                                <div class="col-md-3"></div>
                                                <div class="col-md-9">
                                                    <button class="btn btn-info" data-ng-if="affiliate.StatusCode == 2" ladda="resetTracker.active()" data-ng-click="resetPassword();">Reset Password</button>
                                                    <button class="btn btn-info" data-ng-if="affiliate.StatusCode == 1" ladda="resendTracker.active()" data-ng-click="resend();">Resend Activation Email</button>
                                                </div>
                                            </div>

                                            <span class="legend">Payment and Commissions</span>
                                            <div class="form-group">
                                                <label class="col-md-3 control-label">I would like payment as</label>
                                                <div class="col-md-9">
                                                    <label class="radio-inline">
                                                        <input data-ng-model="affiliate.PaymentType" value="1" type="radio">Cash
                                                    </label>
                                                    <label class="radio-inline">
                                                        <input data-ng-model="affiliate.PaymentType" value="2" type="radio">Credit
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="form-group col-md-12">
                                                Credit Payments are issued at 110% of the cash commission earned.
                                            </div>
                                            <div class="form-group">
                                                <label for="type" class="col-md-4 control-label">Commission: for first order</label>
                                                <div class="col-md-3">
                                                    <div class="input-group">
                                                        <span class="input-group-addon">%</span>
                                                        <input type="text" name="CommissionFirst" class="form-control" placeholder="Commission" money min="0.01" max="100" data-ng-model="affiliate.CommissionFirst" required>
                                                    </div>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.CommissionFirst.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.CommissionFirst.$error.parse">{{getValidationMessage("ValidationMessages.FieldRequired","Commission: for first order")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.CommissionFirst.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Commission: for first order")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.CommissionFirst.$error.max">{{getValidationMessage("ValidationMessages.FieldMax","Commission: for first order",100)}}</small>
                                                        <small class="error" ng-show="forms.mainForm.CommissionFirst.$error.min">{{getValidationMessage("{0} must be over 0.00","Commission: for first order")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.CommissionFirst.$error.server">{{serverMessages.GetMessage('CommissionFirst')}}</small>
                                                    </div>
                                                </div>
                                                <label for="type" class="col-md-2 control-label">all others</label>
                                                <div class="col-md-3">
                                                    <div class="input-group">
                                                        <span class="input-group-addon">%</span>
                                                        <input type="text" name="CommissionAll" class="form-control" placeholder="Commission" money min="0.01" max="100" data-ng-model="affiliate.CommissionAll" required>
                                                    </div>
                                                    <div class="error-container" ng-show="forms.submitted && forms.mainForm.CommissionAll.$invalid">
                                                        <small class="error" ng-show="forms.mainForm.CommissionAll.$error.parse">{{getValidationMessage("ValidationMessages.FieldRequired","Commission: for all other orders")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.CommissionAll.$error.required">{{getValidationMessage("ValidationMessages.FieldRequired","Commission: for all other orders")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.CommissionAll.$error.max">{{getValidationMessage("ValidationMessages.FieldMax","Commission: for all other orders",100)}}</small>
                                                        <small class="error" ng-show="forms.mainForm.CommissionAll.$error.min">{{getValidationMessage("{0} must be over 0.00","Commission: for all other orders")}}</small>
                                                        <small class="error" ng-show="forms.mainForm.CommissionAll.$error.server">{{serverMessages.GetMessage('CommissionAll')}}</small>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </form>
                                </spinner-overlay>
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab heading="Customers" active="customersTab.active">
                        <div class="container-fluid">
                            <div class="well row">
                                <div class="row form-group" data-ng-if="customersTotalItems>0">
                                    <div class="col-md-6 btn-line">
                                        <div class="margin-top-10px">Affiliate Customers Count: <strong>{{customersTotalItems}}</strong></div>
                                        </div>
                                    <div class="col-md-6 btn-line">
                                        <a target="_self" class="btn btn-primary pull-right" data-ng-if="options.customersExportUrl" data-ng-href={{options.customersExportUrl}}>Export</a>
                                    </div>
                                </div>
                                <spinner-overlay data-loading="refreshCustomersTracker.active()">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Customer Id</th>
                                                <th>Email</th>
                                                <th>First Name</th>
                                                <th>Last Name</th>
                                                <th>First Order Placed</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr data-ng-repeat="item in customers">
                                                <td>{{::item.Id}}</td>
                                                <td>{{::item.Email}}</td>
                                                <td>{{::item.FirstName}}</td>
                                                <td>{{::item.LastName}}</td>
                                                <td>{{::item.FirstOrderPlaced | date:"MM/dd/yy"}}<br />{{::item.FirstOrderPlaced | date:"h:mm a"}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </spinner-overlay>
                                <uib-pagination boundary-links="true"
                                            total-items="customersTotalItems"
                                            items-per-page="customerFilter.Paging.PageItemCount"
                                            data-ng-model="customerFilter.Paging.PageIndex"
                                            previous-text="&lsaquo;"
                                            next-text="&rsaquo;"
                                            first-text="&laquo;"
                                            last-text="&raquo;"
                                            data-ng-change="customersPageChanged()">
                                </uib-pagination>
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab heading="Orders" active="ordersTab.active">
                        <div class="container-fluid">
                            <div class="well row orders">
                                <div class="row form-group" data-ng-if="affiliate.Id">
                                    <div class="col-md-3">
                                        <p class="input-group">
                                            <input type="text" name="test" class="form-control" placeholder="From" uib-datepicker-popup="{{UIOptions.DatepickerFormat}}" ng-model="orderFilter.From" is-open="fromOpened" />
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-default" ng-disabled="false" ng-click="stopPropagation($event); fromOpened =true;"><i class="glyphicon glyphicon-calendar"></i></button>
                                            </span>
                                        </p>
                                    </div>
                                    <div class="col-md-3">
                                        <p class="input-group">
                                            <input type="text" name="test" class="form-control" placeholder="To" uib-datepicker-popup="{{UIOptions.DatepickerFormat}}" ng-model="orderFilter.To" is-open="toOpened" />
                                            <span class="input-group-btn">
                                                <button type="button" class="btn btn-default" ng-disabled="false" ng-click="stopPropagation($event); toOpened =true;"><i class="glyphicon glyphicon-calendar"></i></button>
                                            </span>
                                        </p>
                                    </div>
                                    <div class="col-md-6">
                                        <button class="btn btn-info" data-ng-click="filterOrders();" type="button">Filter</button>
                                    </div>
                                </div>
                                <spinner-overlay data-loading="refreshOrdersTracker.active()">
                                    <table class="table table-striped order-statuses">
                                        <thead>
                                            <tr>
                                                <th>Order #</th>
                                                <th>Order Date</th>
                                                <th>Customer Name</th>
                                                <th>Cust #</th>
                                                <th>Discounted Subtotal</th>
                                                <th>Repeat</th>
                                                <th class="status">Order Status</th>
                                                <th>Commission</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr data-ng-repeat="item in orders">
                                                <td>
                                                    <a ui-sref="{{::item.IdObjectType==5 ? 'index.oneCol.orderReshipDetail({id: item.IdOrder })' :  item.IdObjectType==6 ? 'index.oneCol.orderRefundDetail({id: item.IdOrder })' : 'index.oneCol.orderDetail({id: item.IdOrder })'}}">{{::item.IdOrder}}</a>
                                                </td>
                                                <td>{{::item.DateCreated | date:"MM/dd/yy"}}<br />{{::item.DateCreated | date:"h:mm a"}}</td>
                                                <td>{{::item.CustomerName}}</td>
                                                <td>
                                                    <a ui-sref="index.oneCol.customerDetail({id:item.IdCustomer})">{{::item.IdCustomer}}</a>
                                                </td>
                                                <td>{{::item.DiscountedProductsSubtotal | currency}}</td>
                                                <td>{{::item.RepeatInCustomer}}</td>
                                                <td>
                                                    <div data-ng-include="'app/modules/order/partials/orderStatusSection.html'"></div>
                                                </td>
                                                <td>{{::item.Commission | currency}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </spinner-overlay>
                                <uib-pagination boundary-links="true"
                                            total-items="ordersTotalItems"
                                            items-per-page="orderFilter.Paging.PageItemCount"
                                            data-ng-model="orderFilter.Paging.PageIndex"
                                            previous-text="&lsaquo;"
                                            next-text="&rsaquo;"
                                            first-text="&laquo;"
                                            last-text="&raquo;"
                                            data-ng-change="ordersPageChanged()">
                                </uib-pagination>
                            </div>
                        </div>
                    </uib-tab>
                    <uib-tab heading="Payment History" active="paymentHistoryTab.active">
                        <div class="container container-left">
                            <div class="well row">
                                <spinner-overlay data-loading="refreshPaymentHistoryTracker.active()">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Amount</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr data-ng-repeat="item in paymentHistoryItems">
                                                <td>{{::item.DateCreated | date:"MM/dd/yy"}}<br />{{::item.DateCreated | date:"h:mm a"}}</td>
                                                <td>{{::item.Amount | currency}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </spinner-overlay>
                            </div>
                        </div>
                    </uib-tab>
                </uib-tabset>
            </div>
        </div>
    </div>
</div>