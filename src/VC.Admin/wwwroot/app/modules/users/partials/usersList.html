<div class="container-fluid">
	<div class="well">
		<span class="legend">Manage Users</span>
		<div class="row form-group">
			<div class="col-md-4">
				<div class="input-group">
					<input type="text" class="form-control" data-ng-model="filter.SearchText" placeholder="Filter by Name, Email">
					<span class="input-group-btn">
						<button class="btn btn-info" data-ng-click="filterUsers();" type="button">Filter</button>
					</span>
				</div>
			</div>
		</div>
		<div class="form-group">
			<button data-ng-click="open(false);" ladda="addTracker.active()" class="btn btn-primary">Add New User</button>
		</div>
		<spinner-overlay data-loading="refreshTracker.active()">
			<table class="table table-striped table-hover ">
				<thead>
				<tr>
					<th>Agent ID</th>
					<th>Full Name</th>
					<th>Email</th>
					<th>Roles</th>
					<th>Status</th>
					<th>Last Login</th>
				</tr>
				</thead>
				<tbody>
				<tr data-ng-repeat="user in users">
					<td>{{user.AgentId}}</td>
					<td>{{user.FullName}}</td>
					<td>{{user.Email}}</td>
					<td><span data-ng-repeat="role in user.RoleIds" data-ng-bind="$index < user.RoleIds.length - 1 ? getReferenceText(ReferenceData.Roles, role) + ', ' : getReferenceText(ReferenceData.Roles, role)">
					</span>
					</td>
					<td>
						<span data-ng-if="user.Status == 2" class="label label-danger font-default">{{getReferenceText(ReferenceData.UserStatuses, user.Status)}}</span>
						<span data-ng-if="user.Status == 0" class="label label-warning font-default">{{getReferenceText(ReferenceData.UserStatuses, user.Status)}}<</span>
						<span data-ng-if="user.Status == 1" class="label label-info font-default">{{getReferenceText(ReferenceData.UserStatuses, user.Status)}}<</span>
					</td>
					<td>{{user.LastLoginDate | date:"MM/dd/yy"}}<br/>{{user.LastLoginDate | date:"h:mm a"}}</td>
					<td>
						<button class="btn btn-default btn-success" ladda="editTracker.active()" data-ng-click="open(true, user.PublicId);">Details</button>
						<button class="btn btn-default btn-danger" ladda="deleteTracker.active()" data-ng-click="delete(user.FullName, user.PublicId);">Delete</button>
					</td>
				</tr>
				</tbody>
			</table>
			<pagination
				boundary-links="true"
				total-items="totalItems"
				data-ng-model="currentPage"
				previous-text="&lsaquo;"
				next-text="&rsaquo;"
				first-text="&laquo;"
				last-text="&raquo;"
				data-ng-change="pageChanged()">
			</pagination>
		</spinner-overlay>
	</div>
</div>