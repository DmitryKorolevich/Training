<div class="well row customer-orders-list">
    <spinner-overlay data-loading="addEditTracker.active()">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th class="sortable-column" data-ng-click="filter.Sorting.applySort('OrderStatus')">
                        <span>Status</span>
                        <span data-ng-if="filter.Sorting.Path == 'OrderStatus'">
                            <i class='glyphicon glyphicon-chevron-up' data-ng-if="filter.Sorting.SortOrder == 'Asc'"></i>
                            <i class='glyphicon glyphicon-chevron-down' data-ng-if="filter.Sorting.SortOrder == 'Desc'"></i>
                        </span>
                    </th>
                    <th class="sortable-column" data-ng-click="filter.Sorting.applySort('DateEdited')">
                        <span>Updated</span>
                        <span data-ng-if="filter.Sorting.Path == 'DateEdited'">
                            <i class='glyphicon glyphicon-chevron-up' data-ng-if="filter.Sorting.SortOrder == 'Asc'"></i>
                            <i class='glyphicon glyphicon-chevron-down' data-ng-if="filter.Sorting.SortOrder == 'Desc'"></i>
                        </span>
                    </th>
                    <th class="sortable-column" data-ng-click="filter.Sorting.applySort('IdOrderSource')">
                        <span>Order Type</span>
                        <span data-ng-if="filter.Sorting.Path == 'IdOrderSource'">
                            <i class='glyphicon glyphicon-chevron-up' data-ng-if="filter.Sorting.SortOrder == 'Asc'"></i>
                            <i class='glyphicon glyphicon-chevron-down' data-ng-if="filter.Sorting.SortOrder == 'Desc'"></i>
                        </span>
                    </th>
                    <th class="sortable-column" data-ng-click="filter.Sorting.applySort('DateCreated')">
                        <span>Order Date</span>
                        <span data-ng-if="filter.Sorting.Path == 'DateCreated'">
                            <i class='glyphicon glyphicon-chevron-up' data-ng-if="filter.Sorting.SortOrder == 'Asc'"></i>
                            <i class='glyphicon glyphicon-chevron-down' data-ng-if="filter.Sorting.SortOrder == 'Desc'"></i>
                        </span>
                    </th>
                    <th class="sortable-column" data-ng-click="filter.Sorting.applySort('Id')">
                        <span>Order ID</span>
                        <span data-ng-if="filter.Sorting.Path == 'Id'">
                            <i class='glyphicon glyphicon-chevron-up' data-ng-if="filter.Sorting.SortOrder == 'Asc'"></i>
                            <i class='glyphicon glyphicon-chevron-down' data-ng-if="filter.Sorting.SortOrder == 'Desc'"></i>
                        </span>
                    </th>
                    <th class="sortable-column" data-ng-click="filter.Sorting.applySort('Total')">
                        <span>Order Total</span>
                        <span data-ng-if="filter.Sorting.Path == 'Total'">
                            <i class='glyphicon glyphicon-chevron-up' data-ng-if="filter.Sorting.SortOrder == 'Asc'"></i>
                            <i class='glyphicon glyphicon-chevron-down' data-ng-if="filter.Sorting.SortOrder == 'Desc'"></i>
                        </span>
                    </th>
                    <th class="sortable-column" data-ng-click="filter.Sorting.applySort('ShipTo')">
                        <span>Ship To</span>
                        <span data-ng-if="filter.Sorting.Path == 'ShipTo'">
                            <i class='glyphicon glyphicon-chevron-up' data-ng-if="filter.Sorting.SortOrder == 'Asc'"></i>
                            <i class='glyphicon glyphicon-chevron-down' data-ng-if="filter.Sorting.SortOrder == 'Desc'"></i>
                        </span>
                    </th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr data-ng-class="{'order-notes': item.OrderNotes}" data-ng-repeat="item in ordersHistory">
                    <td data-ng-class="{'ban': item.OrderStatus==1, 'exclamation-triangle': item.OrderStatus==2, 'truck': item.OrderStatus==3, 'minus-circle': item.OrderStatus==4, 'check-circle': item.OrderStatus==5, 'calendar': item.OrderStatus==6, 'pause': item.OrderStatus==7}">
                        <i data-ng-if="item.OrderStatus==1" class="fa fa-ban"></i>
                        <i data-ng-if="item.OrderStatus==2" class="fa fa-exclamation-triangle"></i>
                        <i data-ng-if="item.OrderStatus==3" class="fa fa-truck"></i>
                        <i data-ng-if="item.OrderStatus==4" class="fa fa-minus-circle"></i>
                        <i data-ng-if="item.OrderStatus==5" class="fa fa-check-circle"></i>
                        <i data-ng-if="item.OrderStatus==6" class="fa fa-calendar"></i>
                        <i data-ng-if="item.OrderStatus==7" class="fa fa-pause"></i>
                        <span>{{getReferenceItem(ReferenceData.OrderStatuses, item.OrderStatus).Text}}</span>
                    </td>
                    <td>{{::item.DateEdited | date:"MM/dd/yy"}}<br />{{::item.DateEdited | date:"h:mm a"}}<br />{{::item.EditedByAgentId}}</td>
                    <td class="order-source">
                        <i data-ng-if="item.IdOrderSource==1" class="fa fa-globe"></i>
                        <i data-ng-if="item.IdOrderSource==2" class="fa fa-phone"></i>
                        <i data-ng-if="item.IdOrderSource==3" class="fa fa-envelope"></i>
                        <span>{{getReferenceItem(ReferenceData.OrderTypes, item.IdOrderSource).Text}}</span>
                    </td>
                    <td>{{::item.DateCreated | date:"MM/dd/yy"}}<br />{{::item.DateCreated | date:"h:mm a"}}</td>
                    <td>
                        <a ui-sref="index.oneCol.orderDetail({id:item.Id})">{{::item.Id}}</a>
                    </td>
                    <td>{{::item.Total | currency}}</td>
                    <td>
                        {{::item.ShipTo}}
                    </td>
                    <td>
                        <button title="Repeat" class="btn btn-default btn-success btn-xs" ui-sref="index.oneCol.orderAdd({idcustomer:item.IdCustomer, idsource:item.Id })">
                            Repeat
                        </button>
                        <button title="Reship" class="btn btn-default btn-info btn-xs">
                            Reship
                        </button>
                        <button data-ng-if="item.OrderStatus==3" title="Refund" class="btn btn-default btn-primary btn-xs">
                            Refund
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </spinner-overlay>
    <pagination boundary-links="true"
                total-items="ordersTotalItems"
                items-per-page="ordersFilter.Paging.PageItemCount"
                data-ng-model="ordersFilter.Paging.PageIndex"
                previous-text="&lsaquo;"
                next-text="&rsaquo;"
                first-text="&laquo;"
                last-text="&raquo;"
                data-ng-change="ordersPageChanged()">
    </pagination>
</div>