<nlog throwExceptions="true" internalLogFile="C:\logs\nlog.txt" xmlns="http://www.nlog-project.org/schemas/NLog.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
   <variable name="pathToLogs" value="C:\logs\" />
   <targets async="true">
      <target name="common" xsi:type="File" fileName="${pathToLogs}common.log" archiveFileName="${pathToLogs}archives/common.{#}.log" />
      <target name="db" xsi:type="Database"
        keepConnection="false"
        useTransactions="false"
        dbProvider="Microsoft.Data.SQLite.SQLiteConnection, Microsoft.Data.SQLite"
        connectionString="Data Source=${pathToLogs}log.db;"
        commandType="Text"
        commandText="INSERT into Log(Timestamp, Loglevel, Callsite, Message) values(@Timestamp, @Loglevel, @Callsite, @Message)">
	      <parameter name="@Timestamp" layout="${longdate}"/>
        <parameter name="@Loglevel" layout="${level:uppercase=true}"/>
        <parameter name="@Callsite" layout="${callsite:filename=true}"/>
        <parameter name="@Message" layout="${message}"/>
     </target>
   </targets>
   <rules>
      <logger name="*" minlevel="Debug" writeTo="db" />
   </rules>
</nlog>